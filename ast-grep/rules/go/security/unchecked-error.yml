id: ast-grep-go-unchecked-error
language: go
message: "Error return value is not checked. Unhandled errors can lead to silent failures and unexpected behavior."
severity: warning
metadata:
  author: context-sherpa-community
  tags: error-handling, reliability, best-practices
  description: "Detects function calls that return errors but where the error is not checked or handled. This helps prevent silent failures and improves code reliability."
rule:
  all:
    - pattern: |
        $ERR := $FUNC( $$$ )
    - not:
        any:
          - pattern: |
              $ERR := $FUNC( $$$ )
              if $ERR != nil {
          - pattern: |
              if $ERR := $FUNC( $$$ ); $ERR != nil {